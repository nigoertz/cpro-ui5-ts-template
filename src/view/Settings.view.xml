<mvc:View 
    controllerName="cpro.ui5.__kunde__.__projekt__.controller.Settings" 
    xmlns:form="sap.ui.layout.form" 
    displayBlock="true" 
    xmlns:m="sap.m" 
    xmlns:core="sap.ui.core" 
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:table="sap.ui.table"
    xmlns:ui="sap.ui.unified"
    xmlns:l="sap.ui.layout"
    xmlns:code="sap.ui.codeeditor">
    <m:Page 
        navButtonPress="navToHome" 
        showNavButton="true" 
        title="{view>/title}">

        <m:headerContent>
            <m:Button icon="sap-icon://syntax" type="Ghost" press="toggleCodeEditor" />
        </m:headerContent>

        <m:content>
            <core:Fragment fragmentName="cpro.ui5.__kunde__.__projekt__.view.Fragments.Dialog" type="XML"/>

            <m:FlexBox width="100%">
                <table:TreeTable
                    id="TreeTableBasic"
                    rows="{path: '/', parameters: {arrayNames: ['children']}}"
                    enableSelectAll="false"
                    selectionMode="None">
                    <table:columns>
                        <table:Column>
                            <m:Label text="{i18n>tree-table-label}" />
                            <table:template>
                                <m:Input value="{property}" liveChange="onUpdatePropertyInputField"/>
                            </table:template>
                        </table:Column>
                        <table:Column>
                            <table:template>
                                <m:Input value="{value}" visible="{= ${children}.length === 0}" liveChange="onUpdateInputField"/>
                            </table:template>
                        </table:Column>
                    </table:columns>
                </table:TreeTable>
            
                <code:CodeEditor
                    id="CodeEditorBasic"
                    width="640px"
                    height="500px"
                    type="json"
                    value="{path: 'todo>/activeItem/content'}"
                    editable="False"
                    visible="{todo>/codeEditorVisible}">
                </code:CodeEditor>

            </m:FlexBox>
        </m:content>

        <m:footer>
            <m:OverflowToolbar>
                <m:Button text="{i18n>label-activate}" type="Emphasized" press="onActivate" />
                <m:Button text="{i18n>label-convert}"  type="Ghost"      press="onConvert" />
                <m:Button icon="sap-icon://delete"     type="Reject"     press="onDelete" visible="true"/>
                <m:ToolbarSpacer />
                <m:Button text="{i18n>label-save}"     type="Accept"     press="onSave" />
                <m:Button text="{i18n>label-cancel}"   type="Reject"     press="onReject" />
            </m:OverflowToolbar>
        </m:footer>
    </m:Page>
</mvc:View>